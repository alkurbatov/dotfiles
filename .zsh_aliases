# This file is a part of Dotfiles project
#
# Copyright (C) 2018, Alexander Kurbatov <sir.alkurbatov@yandex.ru>
#
# Dotfiles is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# Dotfiles is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.

# Purprose:
# Aliases for zsh.
# For a full list of active aliases, run `alias`.

# Global aliases
alias -g G='|grep'
alias -g M='|more'
alias -g N='2>/dev/null'
alias -g J='-H "Content-Type: application/json"'

# K8s aliases
alias -g NV='--namespace virtuozzo'
alias -g NKS='--namespace kube-system'

# Common aliases
alias cp='cp -i'
alias df='df -h'
alias du='du -h'
alias kver='uname -r'
alias mkdir='mkdir -pv'
alias poweroff='sudo poweroff'
alias reboot='sudo reboot'
alias reload-zsh='source ~/.zshrc'
alias rmr='rm -rf'
alias show-path='echo $PATH | tr -s ":" "\n"'
alias vi='vim'

if [[ "$OSTYPE" = darwin* ]]; then
    alias grep='grep -n --color=always'
    alias ll='ls -GlaFh'
    alias ls='ls -G -F'
    alias mc='. /opt/local/libexec/mc/mc-wrapper.sh'
    alias mv='mv -i'
    alias port='sudo port'
    alias port-update='port selfupdate; port upgrade outdated'
    alias rm='rm -i'
else
    alias apt-cache='sudo apt-cache'
    alias apt-get='sudo apt-get'
    alias apt-update='sudo apt-get update && sudo apt-get upgrade'
    alias dnf='sudo dnf'
    alias gdb='gdb --silent'
    alias grep='grep --color=always'
    alias ifs="ip link | awk 'NR%2==1' | awk '{print $2,$8,$9}' | tr -d ':'"
    alias ipt-list='iptables -vL --line-numbers'
    alias ipt-watch='watch -n 2 -d iptables -nvL'
    alias lh='ls -lhS --color=auto'
    alias ls='ls --color=auto'
    alias lscpu='lscpu -e'
    alias mc='. /usr/libexec/mc/mc-wrapper.sh' # Fedora & CentOs
    # alias mc='. /usr/lib/mc/mc-wrapper.sh' # Other Linux
    alias meminfo='free -h -l'
    alias mount='sudo mount'
    alias mutt='HOME=~/.mutt mutt'
    alias ports='netstat -tulanp'
    alias umount='sudo umount'
    alias shutdown='sudo /sbin/shutdown'
    alias tree='tree -h'
    alias update-grub='grub2-mkconfig -o /boot/grub2/grub.cfg'
    alias urxvt-reload='xrdb -load ~/.Xresources'
    alias yum='sudo yum'
    alias yum-update='sudo yum clean all && sudo yum update'
fi

# Win-like behaviour
alias cls='clear'
alias ipconfig='ifconfig'

# Aliases for work
alias bd=". bd -si"
alias py27-activate="~/work/bin/py-activate 27"
alias py34-activate="~/work/bin/py-activate 34"
alias sshx='ssh -Y -C'
alias svn-log="svn log | less"

# OpenStack aliases
alias openstack="openstack --insecure"

# NPM aliases
alias npm-reinstall='rm -rvf package-lock.json node_modules && npm install'
alias npm-update='sudo npm install -g npm'

# Git aliases
alias gc='git commit -v'
alias gca='git commit -v --amend'
alias gcan='git commit --amend --no-edit'
alias gd='git diff'
alias gdc='git diff --cached'
alias gl='git pull'
alias glg='git log --stat'
alias gp='git push'
alias gpf='git push --force'
alias gr='git rebase -i'
alias gra='git rebase --abort'
alias grc='git rebase --continue'
alias gs='git status -sb'

# Testing tools
alias testr-init='rm -rf .testrepository && testr init'
alias pyunit='python -m unittest -v'
alias pyunittools='python -m testtools.run'

